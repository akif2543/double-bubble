{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/index.js","webpack:///./src/scripts/game_view.js","webpack:///./src/scripts/game.js","webpack:///./src/scripts/bubble.js","webpack:///./src/scripts/player.js","webpack:///./src/scripts/projectile.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","GameView","require","document","addEventListener","ctx","getElementById","getContext","welcome","Game","this","game","last","bg","Image","onload","drawImage","font","fillStyle","fillText","src","start","restart","animate","setRestart","canvas","keys","handler","e","preventDefault","type","valid","w","W","ArrowUp","player","fire","a","A","ArrowLeft","move","D","ArrowRight","removeEventListener","now","delta","step","draw","over","end","pause","requestAnimationFrame","lives","bindKeys","resetLevel","togglePause","setTimeout","Bubble","Player","setDimensions","level","bubbles","DIMX","DIMY","FLOOR","LWALL","RWALL","splice","indexOf","canDivide","divide","resetProjectile","opts","push","Array","isArray","projectile","concat","clearRect","allObjs","forEach","b","movingObjs","isCollidedWith","decrementLife","checkStatus","remove","length","clear","addBubble","pos","vel","radius","color","reset","checkCollisions","GRAVITY","BOUNCE","img","x","y","save","beginPath","arc","Math","PI","closePath","clip","restore","pX","pY","vX","vY","applyPhysics","abs","displacement","obj","dX","width","dY","height","Projectile","left","right","moving","dir","newX","motion","shift","setProjectile","SPEED"],"mappings":"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","file":"main.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/dist/\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n","import \"./styles/index.scss\";\n\nconst GameView = require(\"./scripts/game_view\");\n\ndocument.addEventListener(\"DOMContentLoaded\", () => {\n  const canvas = document.getElementById(\"game\");\n  const ctx = canvas.getContext(\"2d\");\n\n  const view = new GameView(ctx);\n  view.welcome(true);\n});\n","const Game = require(\"./game\");\n\nclass GameView {\n  constructor(ctx) {\n    this.ctx = ctx;\n    this.game = new Game(ctx);\n    this.last = 0;\n    this.bg = new Image();\n    this.bg.onload = () => {\n      ctx.drawImage(this.bg, 0, 0, 1000, 600);\n      ctx.font = \"48px Orbitron\";\n      ctx.fillStyle = \"white\";\n      ctx.fillText(\"Click to start\", 400, 400, 200);\n      ctx.font = \"24px Orbitron\";\n      ctx.fillText(\"a + d or arrows to move\", 350, 500, 300);\n      ctx.fillText(\"w, space, or up to fire\", 359, 530, 300);\n    };\n    this.bg.src = \"dist/assets/title_screen.jpg\";\n    this.start = this.start.bind(this);\n    this.restart = this.restart.bind(this);\n    this.animate = this.animate.bind(this);\n    this.setRestart = this.setRestart.bind(this);\n    this.canvas = document.getElementById(\"game\");\n    this.keys = {};\n    this.handler = this.handler.bind(this);\n  }\n\n  handler(e) {\n    e.preventDefault();\n    this.keys[e.key] = e.type === \"keydown\";\n\n    let valid = false;\n\n    if (this.keys[\" \"] || this.keys.w || this.keys.W || this.keys.ArrowUp) {\n      valid = true;\n      this.game.player.fire();\n    }\n\n    if (this.keys.a || this.keys.A || this.keys.ArrowLeft) {\n      valid = true;\n      this.game.player.move(-20);\n    }\n\n    if (this.keys.d || this.keys.D || this.keys.ArrowRight) {\n      valid = true;\n      this.game.player.move(20);\n    }\n\n    if (!valid) {\n      this.game.player.move(0);\n    }\n\n    // switch (true) {\n    //   case this.keys[\" \"] || this.keys.w || this.keys.W || this.keys.ArrowUp:\n    //     this.game.player.fire();\n    //     break;\n    //   case this.keys.a || this.keys.A || this.keys.ArrowLeft:\n    //     this.game.player.move(-20);\n    //     break;\n    //   case this.keys.d || this.keys.D || this.keys.ArrowRight:\n    //     this.game.player.move(20);\n    //     break;\n    //   default:\n    //     this.game.player.move(0);\n    // }\n  }\n\n  bindKeys(bind) {\n    this.keys = {};\n    if (bind) {\n      document.addEventListener(\"keydown\", this.handler);\n      document.addEventListener(\"keyup\", this.handler);\n    } else {\n      document.removeEventListener(\"keydown\", this.handler);\n      document.removeEventListener(\"keyup\", this.handler);\n    }\n  }\n\n  welcome(start) {\n    this.canvas.addEventListener(\"mouseup\", this.start);\n    this.ctx.drawImage(this.bg, 0, 0, 1000, 600);\n    this.ctx.font = \"48px Orbitron\";\n    this.ctx.fillStyle = \"white\";\n    if (start) {\n      this.ctx.fillText(\"Click to start\", 400, 400, 200);\n    } else {\n      this.ctx.fillText(\"Click to play again\", 300, 400, 400);\n    }\n  }\n\n  animate(now) {\n    const delta = now - this.last;\n    this.game.step(delta);\n    this.game.draw(this.ctx);\n    this.last = now;\n    if (this.game.over) return this.end();\n    if (this.game.pause) return this.setRestart();\n    requestAnimationFrame(this.animate);\n  }\n\n  start() {\n    this.game = this.game.player.lives ? this.game : new Game(this.ctx);\n    this.bindKeys(true);\n    this.canvas.removeEventListener(\"mouseup\", this.start);\n    this.game.resetLevel();\n    requestAnimationFrame(this.animate);\n  }\n\n  restart() {\n    this.bindKeys(true);\n    requestAnimationFrame(this.animate);\n  }\n\n  end() {\n    this.bindKeys(false);\n    return this.welcome(false);\n  }\n\n  setRestart() {\n    this.bindKeys(false);\n    this.last = 0;\n    this.game.togglePause();\n    setTimeout(this.restart, 1000);\n  }\n}\n\nmodule.exports = GameView;\n","const Bubble = require(\"./bubble\");\nconst Player = require(\"./player\");\n\nclass Game {\n  constructor(ctx) {\n    this.ctx = ctx;\n    this.setDimensions();\n    this.level = 1;\n    this.bubbles = [];\n    this.player = new Player(ctx, this);\n    this.over = !this.player.lives;\n    this.pause = true;\n    this.togglePause = this.togglePause.bind(this);\n    this.bg = new Image();\n    this.bg.onload = () => ctx.drawImage(this.bg, 0, 0, this.DIMX, this.DIMY);\n    this.bg.src = \"dist/assets/db_bg.jpg\";\n    this.resetLevel = this.resetLevel.bind(this);\n  }\n\n  setDimensions() {\n    this.DIMX = 1000;\n    this.DIMY = 600;\n    this.FLOOR = this.DIMY - 53;\n    this.LWALL = 80;\n    this.RWALL = this.DIMX - 80;\n  }\n\n  remove(o) {\n    if (o instanceof Bubble) {\n      this.bubbles.splice(this.bubbles.indexOf(o), 1);\n      if (o.canDivide) o.divide();\n    } else {\n      this.resetProjectile();\n    }\n  }\n\n  addBubble(opts) {\n    this.bubbles.push(new Bubble(opts, this.ctx, this));\n  }\n\n  setProjectile(p) {\n    if (Array.isArray(this.projectile)) this.projectile = p;\n  }\n\n  resetProjectile() {\n    this.projectile = [];\n  }\n\n  allObjs() {\n    return Array.isArray(this.projectile)\n      ? this.projectile.concat(this.bubbles, this.player)\n      : [this.projectile].concat(this.bubbles, this.player);\n  }\n\n  movingObjs() {\n    return this.bubbles.concat(this.projectile);\n  }\n\n  draw(ctx) {\n    ctx.clearRect(0, 0, this.DIMX, this.DIMY);\n    ctx.drawImage(this.bg, 0, 0, this.DIMX, this.DIMY);\n    ctx.font = \"24px Orbitron\";\n    ctx.fillStyle = \"white\";\n    ctx.fillText(\n      `${this.player.lives >= 0 ? this.player.lives : \"0\"} ${\n        this.player.lives === 1 ? \"life\" : \"lives\"\n      } left`,\n      this.LWALL + 15,\n      25,\n      150\n    );\n    ctx.fillText(`level ${this.level}`, this.DIMX / 2 - 50, 25, 100);\n    this.allObjs().forEach((b) => b.draw(ctx));\n  }\n\n  move(delta) {\n    this.movingObjs().forEach((o) => o.move(delta));\n  }\n\n  checkCollisions() {\n    this.bubbles.forEach((b) => {\n      if (b.isCollidedWith(this.player)) {\n        this.player.move(0);\n        this.player.decrementLife();\n        this.checkStatus(\"p\");\n      } else if (b.isCollidedWith(this.projectile)) {\n        this.remove(b);\n        this.resetProjectile();\n        this.checkStatus(\"b\");\n      }\n    });\n  }\n\n  checkStatus(type) {\n    if (type === \"p\") {\n      if (!this.player.lives) {\n        this.over = true;\n      } else {\n        this.resetLevel();\n      }\n    }\n\n    if (!this.bubbles.length) {\n      this.level++;\n      this.resetLevel();\n    }\n  }\n\n  resetLevel() {\n    this.clear();\n    switch (this.level) {\n      case 1:\n        this.addBubble({\n          pos: [this.LWALL + 42, 200],\n          vel: [15, 15],\n          radius: 20,\n          color: \"red\",\n        });\n        break;\n      case 2:\n        this.addBubble({\n          pos: [this.LWALL + 63, 200],\n          vel: [15, 15],\n          radius: 30,\n          color: \"red\",\n        });\n        break;\n      case 3:\n        this.addBubble({\n          pos: [this.LWALL + 63, 200],\n          vel: [15, 15],\n          radius: 30,\n          color: \"red\",\n        });\n        this.addBubble({\n          pos: [this.RWALL - 63, 200],\n          vel: [-15, 15],\n          radius: 30,\n          color: \"red\",\n        });\n        break;\n      case 4:\n        this.addBubble({\n          pos: [this.LWALL + 84, 200],\n          vel: [15, 15],\n          radius: 40,\n          color: \"red\",\n        });\n        break;\n      case 5:\n        this.addBubble({\n          pos: [this.LWALL + 84, 200],\n          vel: [15, 15],\n          radius: 40,\n          color: \"red\",\n        });\n        this.addBubble({\n          pos: [this.RWALL - 84, 200],\n          vel: [-15, 15],\n          radius: 40,\n          color: \"red\",\n        });\n        break;\n      default:\n        break;\n    }\n    this.togglePause();\n  }\n\n  togglePause() {\n    this.pause = !this.pause;\n  }\n\n  clear() {\n    this.bubbles = [];\n    this.resetProjectile();\n    this.player.reset();\n  }\n\n  step(delta) {\n    this.move(delta);\n    this.checkCollisions();\n  }\n}\n\nmodule.exports = Game;\n","class Bubble {\n  constructor(opts, ctx, game) {\n    this.game = game;\n    this.radius = opts.radius;\n    this.color = opts.color;\n    this.pos = opts.pos;\n    this.vel = opts.vel;\n    this.GRAVITY = 0.5;\n    this.BOUNCE = -0.9;\n    this.canDivide = this.radius !== 10;\n    this.img = new Image();\n    this.img.onload = () => this.draw(ctx);\n    this.img.src = \"dist/assets/yellow_disc.png\";\n  }\n\n  draw(ctx) {\n    const [x, y] = this.pos;\n    ctx.save();\n    ctx.beginPath();\n    ctx.arc(x, y, this.radius, 0, 2 * Math.PI);\n    ctx.closePath();\n    ctx.clip();\n    ctx.drawImage(\n      this.img,\n      x - this.radius,\n      y - this.radius,\n      this.radius * 2,\n      this.radius * 2\n    );\n    ctx.beginPath();\n    ctx.arc(x, y, this.radius, 0, 2 * Math.PI);\n    ctx.clip();\n    ctx.closePath();\n    ctx.restore();\n  }\n\n  move(delta = 1) {\n    const [pX, pY] = this.pos;\n    const [vX, vY] = this.vel;\n    this.pos = [pX + vX / 3, pY + vY / 3];\n    this.applyPhysics();\n  }\n\n  applyPhysics() {\n    const [pX, pY] = this.pos;\n    this.vel[1] += this.GRAVITY;\n\n    if (\n      pX + this.radius >= this.game.RWALL ||\n      pX - this.radius <= this.game.LWALL\n    ) {\n      this.vel[0] *= Math.abs(this.vel[0]) > 7 ? this.BOUNCE : -1.1;\n    }\n    if (pY + this.radius * 0.7 >= this.game.FLOOR) {\n      this.pos[1] = this.game.FLOOR - this.radius;\n      this.vel[1] *= this.vel[1] > 14 ? this.BOUNCE : -1;\n    }\n  }\n\n  divide() {\n    const [pX, pY] = this.pos;\n    const [vX, vY] = this.vel;\n    const displacement = this.radius;\n    const opts = {\n      pos: [pX + displacement, pY - displacement],\n      vel: [vX * -this.BOUNCE, vY / -this.BOUNCE],\n      radius: this.radius - 10,\n      color: this.color,\n    };\n    return [\n      opts,\n      {\n        ...opts,\n        pos: [pX - displacement, opts.pos[1]],\n        vel: [opts.vel[0] * -1, opts.vel[1]],\n      },\n    ].forEach((o) => this.game.addBubble(o));\n  }\n\n  isCollidedWith(obj) {\n    if (Array.isArray(obj)) return false;\n\n    const dX = Math.abs(this.pos[0] - obj.pX - obj.width / 2) * 1.2;\n    const dY = Math.abs(this.pos[1] - obj.pY - obj.height / 2);\n\n    if (dX > obj.width / 2 + this.radius || dY > obj.height / 2 + this.radius)\n      return false;\n    if (dX <= obj.width / 2 || dY <= obj.height / 2) return true;\n\n    const pX = dX - obj.width / 2;\n    const pY = dY - obj.height / 2;\n\n    const dist = pX ** 2 + pY ** 2;\n    return dist <= this.radius ** 2;\n  }\n}\n\nmodule.exports = Bubble;\n","const Projectile = require(\"./projectile\");\n\nclass Player {\n  constructor(ctx, game) {\n    this.game = game;\n    this.lives = 5;\n    this.width = 50;\n    this.height = this.game.DIMY / 6;\n    this.pX = this.game.DIMX / 2 - this.width * 0.7;\n    this.pY = this.game.FLOOR - this.height + 5;\n    this.img = new Image();\n    this.img.onload = () =>\n      ctx.drawImage(this.img, this.pX, this.pY, this.width, this.height);\n    this.img.src = \"dist/assets/blue_back.png\";\n    this.left = [\n      \"dist/assets/blue_left1.png\",\n      \"dist/assets/blue_left2.png\",\n      \"dist/assets/blue_left3.png\",\n      \"dist/assets/blue_left4.png\",\n    ];\n    this.right = [\n      \"dist/assets/blue_right1.png\",\n      \"dist/assets/blue_right2.png\",\n      \"dist/assets/blue_right3.png\",\n      \"dist/assets/blue_right4.png\",\n    ];\n    this.moving = false;\n  }\n\n  draw(ctx) {\n    ctx.drawImage(this.img, this.pX, this.pY, this.width, this.height);\n  }\n\n  move(dir) {\n    const newX = this.pX + (this.moving ? dir : dir * 1.5);\n\n    if (dir > 0) {\n      const motion = this.right.shift();\n      this.img.src = motion;\n      this.right.push(motion);\n      this.moving = true;\n    } else if (dir < 0) {\n      const motion = this.left.shift();\n      this.img.src = motion;\n      this.left.push(motion);\n      this.moving = true;\n    } else {\n      this.img.src = \"dist/assets/blue_back.png\";\n      this.moving = false;\n    }\n\n    if (newX + this.width >= this.game.RWALL) {\n      this.pX = this.game.RWALL - this.width;\n    } else if (newX <= this.game.LWALL) {\n      this.pX = this.game.LWALL;\n    } else {\n      this.pX = newX;\n    }\n  }\n\n  reset() {\n    this.pX = this.game.DIMX / 2 - this.width * 0.7;\n  }\n\n  fire() {\n    this.img.src = \"dist/assets/blue_back.png\";\n    this.game.setProjectile(\n      new Projectile([this.pX + 22.5, this.pY], this.game)\n    );\n  }\n\n  decrementLife() {\n    this.lives--;\n  }\n}\n\nmodule.exports = Player;\n","class Projectile {\n  constructor(pos, game) {\n    this.game = game;\n    [this.pX, this.pY] = pos;\n    this.width = 5;\n    this.height = this.game.FLOOR - this.pY;\n    this.SPEED = 0.75;\n    this.img = new Image();\n    this.img.src = \"dist/assets/laser.png\";\n  }\n\n  draw(ctx) {\n    ctx.drawImage(this.img, this.pX, this.pY, this.width, this.height);\n  }\n\n  move(delta) {\n    this.pY -= delta * this.SPEED;\n    this.height += delta * this.SPEED;\n    if (this.pY <= 0) this.game.remove(this);\n  }\n}\n\nmodule.exports = Projectile;\n"],"sourceRoot":""}